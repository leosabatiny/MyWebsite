<!-- clock.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analog & Digital Clocks â€“ Leonardo</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body, html {
            height: 100%;
            overflow: hidden;
        }
        .clocks-wrapper {
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10vw; 
            height: 70vh; 
            margin-top: 64px;
            flex-wrap: wrap;
        }
        canvas {
            background-color: var(--bg-surface);
            border-radius: 50%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            cursor: pointer;
        }
        #digitalCanvas {
            border-radius: 15px;
        }
        #fun-fact-box {
            /* UPDATED: Changed position from 'absolute' to 'fixed' */
            position: fixed; 
            bottom: 5%;
            left: 50%;
            transform: translateX(-50%) translateY(20px) scale(0.95);
            width: 80%;
            max-width: 500px;
            padding: 1rem 1.5rem;
            background-color: var(--bg-dark);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-secondary);
            text-align: center;
            font-size: 0.95rem;
            line-height: 1.6;
            opacity: 0;
            transition: opacity 0.3s ease-out, transform 0.3s ease-out;
            pointer-events: none;
        }
        #fun-fact-box.visible {
            opacity: 1;
            transform: translateX(-50%) translateY(0) scale(1);
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="logo">Leonardo</a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="projects.html">Projects</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </div>
    </nav>

    <div class="clocks-wrapper">
        <canvas id="analogCanvas"></canvas>
        <canvas id="digitalCanvas"></canvas>
        <div id="fun-fact-box"></div>
    </div>

    <script>
        // --- The JavaScript logic remains exactly the same ---
        const analogCanvas = document.getElementById('analogCanvas');
        const analogCtx = analogCanvas.getContext('2d');
        const digitalCanvas = document.getElementById('digitalCanvas');
        const digitalCtx = digitalCanvas.getContext('2d');
        const funFactBox = document.getElementById('fun-fact-box');

        const style = getComputedStyle(document.body);
        const accentColor = style.getPropertyValue('--accent').trim();
        const primaryTextColor = style.getPropertyValue('--text-primary').trim();
        const offColor = '#262626';

        const funFacts = [ "This is often called the 'witching hour,' a time associated with supernatural events in folklore.", "Deepest sleep stage. The body focuses on cellular repair and memory consolidation.", "The time with the fewest births and deaths, making it statistically the 'quietest' hour for human life events.", "Human body temperature is at its lowest point, a key part of the circadian rhythm.", "The body begins to produce cortisol to prepare for waking up. This is a common time for early-rising farmers to start their day.", "REM sleep is most intense just before waking, leading to vivid dreams.", "Often considered the start of the 'biological day' as melatonin secretion stops.", "The most popular time to wake up for the standard workday across many cultures.", "Cardiovascular activity is at its peak risk. Blood is thicker and blood pressure rises upon waking.", "Peak mental alertness begins for most people, making it a great time for complex tasks.", "Considered the most productive hour of the workday for tasks requiring high concentration.", "The brain starts to anticipate lunch, and focus may begin to wane.", "Known as 'solar noon,' when the sun is at its highest point in the sky.", "A post-lunch dip in energy is common, especially after a carb-heavy meal.", "Best time for coordination and reaction time, making it ideal for physical tasks or sports.", "The 'afternoon slump' typically ends, and a second wave of productivity can begin.", "A common time for an afternoon coffee break in many office cultures.", "The end of the standard 9-to-5 workday, leading to peak traffic in many cities.", "Greatest cardiovascular efficiency and muscle strength, an excellent time for a workout.", "The most common dinner time in many Western countries.", "A popular time for socializing, watching TV, or engaging in hobbies.", "The body begins to secrete melatonin, the hormone that signals it's time to sleep.", "The most common bedtime for adults. Bowel movements are suppressed to prepare for sleep.", "The mind is winding down, but this is also a peak time for creativity for 'night owls'." ];

        [analogCanvas, digitalCanvas].forEach(canvas => {
            canvas.addEventListener('mouseenter', () => {
                const currentHour = new Date().getHours();
                funFactBox.textContent = funFacts[currentHour];
                funFactBox.classList.add('visible');
            });
            canvas.addEventListener('mouseleave', () => {
                funFactBox.classList.remove('visible');
            });
        });

        function setSize() {
            const baseUnit = Math.min(window.innerWidth * 0.42, window.innerHeight * 0.45);
            const analogMultiplier = 1.2;
            const digitalMultiplier = 1.5;
            const analogDiameter = baseUnit * analogMultiplier;
            const digitalWidth = baseUnit * digitalMultiplier;
            const digitalHeight = (baseUnit / 2) * digitalMultiplier;
            if (window.innerWidth < 1200) { 
                const singleWidth = window.innerWidth * 0.8;
                analogCanvas.width = analogCanvas.height = singleWidth;
                digitalCanvas.width = singleWidth;
                digitalCanvas.height = singleWidth / 2;
            } else {
                analogCanvas.width = analogCanvas.height = analogDiameter;
                digitalCanvas.width = digitalWidth;
                digitalCanvas.height = digitalHeight;
            }
        }

        function drawAllClocks() {
            const now = new Date();
            drawAnalogClock(now);
            drawDigitalClock(now);
            requestAnimationFrame(drawAllClocks);
        }

        function drawAnalogClock(now) {
            const radius = analogCanvas.height / 2;
            analogCtx.clearRect(0, 0, analogCanvas.width, analogCanvas.height);
            analogCtx.save();
            analogCtx.translate(radius, radius);
            const clockRadius = radius * 0.92;
            analogCtx.beginPath();
            analogCtx.arc(0, 0, clockRadius, 0, 2 * Math.PI);
            analogCtx.fillStyle = 'var(--bg-surface)';
            analogCtx.fill();
            analogCtx.strokeStyle = primaryTextColor;
            analogCtx.lineWidth = 6;
            analogCtx.stroke();
            analogCtx.beginPath();
            analogCtx.arc(0, 0, clockRadius * 0.05, 0, 2 * Math.PI);
            analogCtx.fillStyle = accentColor;
            analogCtx.fill();
            analogCtx.font = `bold ${clockRadius * 0.15}px Sora`;
            analogCtx.textBaseline = 'middle';
            analogCtx.textAlign = 'center';
            analogCtx.fillStyle = primaryTextColor;
            for (let num = 1; num <= 12; num++) {
                const ang = num * Math.PI / 6;
                analogCtx.rotate(ang);
                analogCtx.translate(0, -clockRadius * 0.83);
                analogCtx.rotate(-ang);
                analogCtx.fillText(num.toString(), 0, 0);
                analogCtx.rotate(ang);
                analogCtx.translate(0, clockRadius * 0.83);
                analogCtx.rotate(-ang);
            }
            const hour = now.getHours();
            const minute = now.getMinutes();
            const second = now.getSeconds();
            const hourPos = (hour % 12 + minute / 60) * (2 * Math.PI / 12);
            drawHand(analogCtx, hourPos, clockRadius * 0.5, 8, primaryTextColor);
            const minutePos = minute * (2 * Math.PI / 60);
            drawHand(analogCtx, minutePos, clockRadius * 0.75, 5, primaryTextColor);
            const secondPos = second * (2 * Math.PI / 60);
            drawHand(analogCtx, secondPos, clockRadius * 0.85, 2, accentColor);
            analogCtx.restore();
        }

        const segments = [ [1,1,1,1,1,1,0], [0,1,1,0,0,0,0], [1,1,0,1,1,0,1], [1,1,1,1,0,0,1], [0,1,1,0,0,1,1], [1,0,1,1,0,1,1], [1,0,1,1,1,1,1], [1,1,1,0,0,0,0], [1,1,1,1,1,1,1], [1,1,1,1,0,1,1] ];
        
        function drawHand(ctx, pos, length, width, color) {
            ctx.beginPath();
            ctx.lineWidth = width;
            ctx.lineCap = 'round';
            ctx.strokeStyle = color;
            ctx.moveTo(0, 0);
            ctx.rotate(pos);
            ctx.lineTo(0, -length);
            if (width === 2) {
                ctx.moveTo(0, 0);
                ctx.lineTo(0, length * 0.2);
            }
            ctx.stroke();
            ctx.rotate(-pos);
        }
        
        function drawDigitalClock(now) {
            digitalCtx.clearRect(0, 0, digitalCanvas.width, digitalCanvas.height);
            const h = String(now.getHours()).padStart(2, '0');
            const m = String(now.getMinutes()).padStart(2, '0');
            const s = String(now.getSeconds()).padStart(2, '0');
            const digitWidth = digitalCanvas.width / 7.5;
            const digitHeight = digitWidth * 2;
            const totalContentWidth = digitWidth * 7;
            const startX = (digitalCanvas.width - totalContentWidth) / 2;
            const startY = (digitalCanvas.height - digitHeight) / 2;
            drawDigit(digitalCtx, h[0], startX, startY, digitWidth, digitHeight);
            drawDigit(digitalCtx, h[1], startX + digitWidth, startY, digitWidth, digitHeight);
            drawColon(digitalCtx, startX + digitWidth * 2, startY, digitWidth / 2, digitHeight, now);
            drawDigit(digitalCtx, m[0], startX + digitWidth * 2.5, startY, digitWidth, digitHeight);
            drawDigit(digitalCtx, m[1], startX + digitWidth * 3.5, startY, digitWidth, digitHeight);
            drawColon(digitalCtx, startX + digitWidth * 4.5, startY, digitWidth / 2, digitHeight, now);
            drawDigit(digitalCtx, s[0], startX + digitWidth * 5, startY, digitWidth, digitHeight);
            drawDigit(digitalCtx, s[1], startX + digitWidth * 6, startY, digitWidth, digitHeight);
        }

        function drawDigit(ctx, digit, x, y, w, h) {
            const segs = segments[digit];
            const segW = w * 0.9;
            const segH = w * 0.15;
            const p = segH / 2;
            ctx.fillStyle = segs[0] ? accentColor : offColor;
            ctx.fillRect(x + p, y, segW - p, segH);
            ctx.fillStyle = segs[1] ? accentColor : offColor;
            ctx.fillRect(x + segW, y + p, segH, h / 2 - p);
            ctx.fillStyle = segs[2] ? accentColor : offColor;
            ctx.fillRect(x + segW, y + h / 2, segH, h / 2 - p);
            ctx.fillStyle = segs[3] ? accentColor : offColor;
            ctx.fillRect(x + p, y + h - segH, segW - p, segH);
            ctx.fillStyle = segs[4] ? accentColor : offColor;
            ctx.fillRect(x, y + h / 2, segH, h / 2 - p);
            ctx.fillStyle = segs[5] ? accentColor : offColor;
            ctx.fillRect(x, y + p, segH, h / 2 - p);
            ctx.fillStyle = segs[6] ? accentColor : offColor;
            ctx.fillRect(x + p, y + h / 2 - segH / 2, segW - p, segH);
        }
        
        function drawColon(ctx, x, y, w, h, now) {
            const size = w * 0.4;
            ctx.fillStyle = now.getSeconds() % 2 === 0 ? accentColor : offColor;
            ctx.fillRect(x + w / 2 - size / 2, y + h * 0.25, size, size);
            ctx.fillRect(x + w / 2 - size / 2, y + h * 0.75 - size, size, size);
        }

        window.addEventListener('resize', setSize);
        setSize();
        drawAllClocks();
    </script>
</body>
</html>